!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-image-cropper",["exports","@angular/core","@angular/platform-browser","@angular/common"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["ngx-image-cropper"]={},t.ng.core,t.ng.platformBrowser,t.ng.common)}(this,(function(t,e,i,r){"use strict";var o=function(){function t(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return t.prototype.setOptions=function(t){var e=this;Object.keys(t).filter((function(t){return t in e})).forEach((function(i){return e[i]=t[i]})),this.validateOptions()},t.prototype.setOptionsFromChanges=function(t){var e=this;Object.keys(t).filter((function(t){return t in e})).forEach((function(i){return e[i]=t[i].currentValue})),this.validateOptions()},t.prototype.validateOptions=function(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")},t}();var a={Move:"move",Resize:"resize",Pinch:"pinch"};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function n(t,e,i,r){return new(i||(i=Promise))((function(o,a){function n(t){try{p(r.next(t))}catch(t){a(t)}}function s(t){try{p(r.throw(t))}catch(t){a(t)}}function p(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(n,s)}p((r=r.apply(t,e||[])).next())}))}function s(t,e){var i,r,o,a,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,r=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(!(o=n.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){n=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(6===a[0]&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(t){a=[6,t],r=0}finally{i=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}Object.create;function p(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,o,a=i.call(t),n=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)n.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return n}Object.create;function c(t,e,i){var r=t.width,o=t.height,a=r/(e=Math.round(e)),n=o/(i=Math.round(i)),s=Math.ceil(a/2),p=Math.ceil(n/2),c=t.getContext("2d");if(c){for(var h=c.getImageData(0,0,r,o),g=c.createImageData(e,i),l=h.data,d=g.data,m=0;m<i;m++)for(var u=0;u<e;u++){var x=4*(u+m*e),f=m*n,y=0,v=0,A=0,M=0,S=0,w=0,z=0,b=Math.floor(u*a),I=Math.floor(m*n),R=Math.ceil((u+1)*a),C=Math.ceil((m+1)*n);R=Math.min(R,r),C=Math.min(C,o);for(var E=I;E<C;E++)for(var H=Math.abs(f-E)/p,W=u*a,B=H*H,k=b;k<R;k++){var T=Math.abs(W-k)/s,Q=Math.sqrt(B+T*T);if(!(Q>=1)){var P=4*(k+E*r);z+=(y=2*Q*Q*Q-3*Q*Q+1)*l[P+3],A+=y,l[P+3]<255&&(y=y*l[P+3]/250),M+=y*l[P],S+=y*l[P+1],w+=y*l[P+2],v+=y}}d[x]=M/v,d[x+1]=S/v,d[x+2]=w/v,d[x+3]=z/A}t.width=e,t.height=i,c.putImageData(g,0,0)}}var h=function(){function t(){}return t.prototype.crop=function(t,e,i,r){var o=this.getImagePosition(t,e,i,r),a=o.x2-o.x1,n=o.y2-o.y1,s=document.createElement("canvas");s.width=a,s.height=n;var p=s.getContext("2d");if(p){null!=r.backgroundColor&&(p.fillStyle=r.backgroundColor,p.fillRect(0,0,a,n));var h=(r.transform.scale||1)*(r.transform.flipH?-1:1),g=(r.transform.scale||1)*(r.transform.flipV?-1:1),l=e.transformed;p.setTransform(h,0,0,g,l.size.width/2,l.size.height/2),p.translate(-o.x1/h,-o.y1/g),p.rotate((r.transform.rotate||0)*Math.PI/180),p.drawImage(l.image,-l.size.width/2,-l.size.height/2);var d={width:a,height:n,imagePosition:o,cropperPosition:Object.assign({},i)};r.containWithinAspectRatio&&(d.offsetImagePosition=this.getOffsetImagePosition(t,e,i,r));var m=this.getResizeRatio(a,n,r);return 1!==m&&(d.width=Math.round(a*m),d.height=r.maintainAspectRatio?Math.round(d.width/r.aspectRatio):Math.round(n*m),c(s,d.width,d.height)),d.base64=s.toDataURL("image/"+r.format,this.getQuality(r)),d}},t.prototype.getImagePosition=function(t,e,i,r){var o=t.nativeElement,a=e.transformed.size.width/o.offsetWidth,n={x1:Math.round(i.x1*a),y1:Math.round(i.y1*a),x2:Math.round(i.x2*a),y2:Math.round(i.y2*a)};return r.containWithinAspectRatio||(n.x1=Math.max(n.x1,0),n.y1=Math.max(n.y1,0),n.x2=Math.min(n.x2,e.transformed.size.width),n.y2=Math.min(n.y2,e.transformed.size.height)),n},t.prototype.getOffsetImagePosition=function(t,e,i,r){var o,a,n=r.canvasRotation+e.exifTransform.rotate,s=t.nativeElement,p=e.transformed.size.width/s.offsetWidth;n%2?(o=(e.transformed.size.width-e.original.size.height)/2,a=(e.transformed.size.height-e.original.size.width)/2):(o=(e.transformed.size.width-e.original.size.width)/2,a=(e.transformed.size.height-e.original.size.height)/2);var c={x1:Math.round(i.x1*p)-o,y1:Math.round(i.y1*p)-a,x2:Math.round(i.x2*p)-o,y2:Math.round(i.y2*p)-a};return r.containWithinAspectRatio||(c.x1=Math.max(c.x1,0),c.y1=Math.max(c.y1,0),c.x2=Math.min(c.x2,e.transformed.size.width),c.y2=Math.min(c.y2,e.transformed.size.height)),c},t.prototype.getResizeRatio=function(t,e,i){var r=i.resizeToWidth/t,o=i.resizeToHeight/e,a=new Array;i.resizeToWidth>0&&a.push(r),i.resizeToHeight>0&&a.push(o);var n=0===a.length?1:Math.min.apply(Math,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}(a));return n>1&&!i.onlyScaleDown?n:Math.min(n,1)},t.prototype.getQuality=function(t){return Math.min(1,Math.max(0,t.imageQuality/100))},t}();h.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],h.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new h},token:h,providedIn:"root"});var g=function(){function t(){}return t.prototype.resetCropperPosition=function(t,e,i){if(null==t?void 0:t.nativeElement){var r=t.nativeElement;if(i.cropperStaticHeight&&i.cropperStaticWidth)e.x1=0,e.x2=r.offsetWidth>i.cropperStaticWidth?i.cropperStaticWidth:r.offsetWidth,e.y1=0,e.y2=r.offsetHeight>i.cropperStaticHeight?i.cropperStaticHeight:r.offsetHeight;else{var o=Math.min(i.cropperScaledMaxWidth,r.offsetWidth),a=Math.min(i.cropperScaledMaxHeight,r.offsetHeight);if(i.maintainAspectRatio)if(r.offsetWidth/i.aspectRatio<r.offsetHeight){e.x1=0,e.x2=o;var n=o/i.aspectRatio;e.y1=(r.offsetHeight-n)/2,e.y2=e.y1+n}else{e.y1=0,e.y2=a;var s=a*i.aspectRatio;e.x1=(r.offsetWidth-s)/2,e.x2=e.x1+s}else e.x1=0,e.x2=o,e.y1=0,e.y2=a}}},t.prototype.move=function(t,e,i){var r=this.getClientX(t)-e.clientX,o=this.getClientY(t)-e.clientY;i.x1=e.x1+r,i.y1=e.y1+o,i.x2=e.x2+r,i.y2=e.y2+o},t.prototype.resize=function(t,e,i,r,o){var a=this.getClientX(t)-e.clientX,n=this.getClientY(t)-e.clientY;switch(e.position){case"left":i.x1=Math.min(Math.max(e.x1+a,i.x2-o.cropperScaledMaxWidth),i.x2-o.cropperScaledMinWidth);break;case"topleft":i.x1=Math.min(Math.max(e.x1+a,i.x2-o.cropperScaledMaxWidth),i.x2-o.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+n,i.y2-o.cropperScaledMaxHeight),i.y2-o.cropperScaledMinHeight);break;case"top":i.y1=Math.min(Math.max(e.y1+n,i.y2-o.cropperScaledMaxHeight),i.y2-o.cropperScaledMinHeight);break;case"topright":i.x2=Math.max(Math.min(e.x2+a,i.x1+o.cropperScaledMaxWidth),i.x1+o.cropperScaledMinWidth),i.y1=Math.min(Math.max(e.y1+n,i.y2-o.cropperScaledMaxHeight),i.y2-o.cropperScaledMinHeight);break;case"right":i.x2=Math.max(Math.min(e.x2+a,i.x1+o.cropperScaledMaxWidth),i.x1+o.cropperScaledMinWidth);break;case"bottomright":i.x2=Math.max(Math.min(e.x2+a,i.x1+o.cropperScaledMaxWidth),i.x1+o.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+n,i.y1+o.cropperScaledMaxHeight),i.y1+o.cropperScaledMinHeight);break;case"bottom":i.y2=Math.max(Math.min(e.y2+n,i.y1+o.cropperScaledMaxHeight),i.y1+o.cropperScaledMinHeight);break;case"bottomleft":i.x1=Math.min(Math.max(e.x1+a,i.x2-o.cropperScaledMaxWidth),i.x2-o.cropperScaledMinWidth),i.y2=Math.max(Math.min(e.y2+n,i.y1+o.cropperScaledMaxHeight),i.y1+o.cropperScaledMinHeight);break;case"center":var s=t.scale,p=Math.min(Math.max(o.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*s),o.cropperScaledMaxWidth),c=Math.min(Math.max(o.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*s),o.cropperScaledMaxHeight);i.x1=e.clientX-p/2,i.x2=e.clientX+p/2,i.y1=e.clientY-c/2,i.y2=e.clientY+c/2,i.x1<0?(i.x2-=i.x1,i.x1=0):i.x2>r.width&&(i.x1-=i.x2-r.width,i.x2=r.width),i.y1<0?(i.y2-=i.y1,i.y1=0):i.y2>r.height&&(i.y1-=i.y2-r.height,i.y2=r.height)}o.maintainAspectRatio&&this.checkAspectRatio(e.position,i,r,o)},t.prototype.checkAspectRatio=function(t,e,i,r){var o=0,a=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(0-e.y1,0),(o>0||a>0)&&(e.x2-=a*r.aspectRatio>o?a*r.aspectRatio:o,e.y1+=a*r.aspectRatio>o?a:o/r.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(e.y2-i.height,0),(o>0||a>0)&&(e.x2-=a*r.aspectRatio>o?a*r.aspectRatio:o,e.y2-=a*r.aspectRatio>o?a:o/r.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/r.aspectRatio,o=Math.max(0-e.x1,0),a=Math.max(0-e.y1,0),(o>0||a>0)&&(e.x1+=a*r.aspectRatio>o?a*r.aspectRatio:o,e.y1+=a*r.aspectRatio>o?a:o/r.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/r.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(0-e.y1,0),(o>0||a>0)&&(e.x2-=a*r.aspectRatio>o?a*r.aspectRatio:o,e.y1+=a*r.aspectRatio>o?a:o/r.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio,o=Math.max(e.x2-i.width,0),a=Math.max(e.y2-i.height,0),(o>0||a>0)&&(e.x2-=a*r.aspectRatio>o?a*r.aspectRatio:o,e.y2-=a*r.aspectRatio>o?a:o/r.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio,o=Math.max(0-e.x1,0),a=Math.max(e.y2-i.height,0),(o>0||a>0)&&(e.x1+=a*r.aspectRatio>o?a*r.aspectRatio:o,e.y2-=a*r.aspectRatio>o?a:o/r.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio;var n=Math.max(0-e.x1,0),s=Math.max(e.x2-i.width,0),p=Math.max(e.y2-i.height,0),c=Math.max(0-e.y1,0);(n>0||s>0||p>0||c>0)&&(e.x1+=p*r.aspectRatio>n?p*r.aspectRatio:n,e.x2-=c*r.aspectRatio>s?c*r.aspectRatio:s,e.y1+=c*r.aspectRatio>s?c:s/r.aspectRatio,e.y2-=p*r.aspectRatio>n?p:n/r.aspectRatio)}},t.prototype.getClientX=function(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientX)||t.clientX||0},t.prototype.getClientY=function(t){var e;return(null===(e=t.touches)||void 0===e?void 0:e[0].clientY)||t.clientY||0},t}();g.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],g.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new g},token:g,providedIn:"root"});function l(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r.buffer}(t));if(65496!==e.getUint16(0,!1))return-2;var i=e.byteLength,r=2;for(;r<i;){if(e.getUint16(r+2,!1)<=8)return-1;var o=e.getUint16(r,!1);if(r+=2,65505==o){if(1165519206!==e.getUint32(r+=2,!1))return-1;var a=18761==e.getUint16(r+=6,!1);r+=e.getUint32(r+4,a);var n=e.getUint16(r,a);r+=2;for(var s=0;s<n;s++)if(274==e.getUint16(r+12*s,a))return e.getUint16(r+12*s+8,a)}else{if(65280!=(65280&o))break;r+=e.getUint16(r,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}var d=function(){function t(){this.autoRotateSupported=new Promise((function(t){var e=new Image;e.onload=function(){var i=1===e.width&&2===e.height;t(i)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="}))}return t.prototype.loadImageFile=function(t,e){var i=this;return new Promise((function(r,o){var a=new FileReader;a.onload=function(a){i.loadImage(a.target.result,t.type,e).then(r).catch(o)},a.readAsDataURL(t)}))},t.prototype.loadImage=function(t,e,i){return this.isValidImageType(e)?this.loadBase64Image(t,i):Promise.reject(new Error("Invalid image type"))},t.prototype.isValidImageType=function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)},t.prototype.loadImageFromURL=function(t,e){var i=this;return new Promise((function(r,o){var a=new Image;a.onerror=function(){return o},a.onload=function(){var t=document.createElement("canvas"),o=t.getContext("2d");t.width=a.width,t.height=a.height,o.drawImage(a,0,0),i.loadBase64Image(t.toDataURL(),e).then(r)},a.crossOrigin="anonymous",a.src=t}))},t.prototype.loadBase64Image=function(t,e){var i=this;return new Promise((function(e,i){var r=new Image;r.onload=function(){return e({originalImage:r,originalBase64:t})},r.onerror=i,r.src=t})).then((function(t){return i.transformImageBase64(t,e)}))},t.prototype.transformImageBase64=function(t,e){return n(this,void 0,void 0,(function(){var i,r;return s(this,(function(o){switch(o.label){case 0:return[4,this.autoRotateSupported];case 1:return[4,l(o.sent()?-1:t.originalBase64)];case 2:return i=o.sent(),t.originalImage&&t.originalImage.complete?(r={original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:i},[2,this.transformLoadedImage(r,e)]):[2,Promise.reject(new Error("No image loaded"))]}}))}))},t.prototype.transformLoadedImage=function(t,e){return n(this,void 0,void 0,(function(){var i,r,o,a,n,p,c;return s(this,(function(s){switch(s.label){case 0:return i=e.canvasRotation+t.exifTransform.rotate,r={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight},0!==i||t.exifTransform.flip||e.containWithinAspectRatio?(o=this.getTransformedSize(r,t.exifTransform,e),(a=document.createElement("canvas")).width=o.width,a.height=o.height,(n=a.getContext("2d")).setTransform(t.exifTransform.flip?-1:1,0,0,1,a.width/2,a.height/2),n.rotate(Math.PI*(i/2)),n.drawImage(t.original.image,-r.width/2,-r.height/2),p=a.toDataURL(),[4,this.loadImageFromBase64(p)]):[2,{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},r)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},r)},exifTransform:t.exifTransform}];case 1:return c=s.sent(),[2,{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},r)},transformed:{base64:p,image:c,size:{width:c.width,height:c.height}},exifTransform:t.exifTransform}]}}))}))},t.prototype.loadImageFromBase64=function(t){return new Promise((function(e,i){var r=new Image;r.onload=function(){return e(r)},r.onerror=i,r.src=t}))},t.prototype.getTransformedSize=function(t,e,i){var r=i.canvasRotation+e.rotate;if(i.containWithinAspectRatio){if(r%2){var o=t.width*i.aspectRatio,a=t.height/i.aspectRatio;return{width:Math.max(t.height,o),height:Math.max(t.width,a)}}o=t.height*i.aspectRatio,a=t.width/i.aspectRatio;return{width:Math.max(t.width,o),height:Math.max(t.height,a)}}return r%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}},t}();d.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],d.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new d},token:d,providedIn:"root"});var m=function(){function t(t,i,r,n,s){this.cropService=t,this.cropperPositionService=i,this.loadImageService=r,this.sanitizer=n,this.cd=s,this.Hammer=(null===window||void 0===window?void 0:window.Hammer)||null,this.settings=new o,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=a,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new e.EventEmitter,this.startCropImage=new e.EventEmitter,this.imageLoaded=new e.EventEmitter,this.cropperReady=new e.EventEmitter,this.loadImageFailed=new e.EventEmitter,this.reset()}return t.prototype.ngOnChanges=function(t){var e,i=this;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),(null===(e=this.loadedImage)||void 0===e?void 0:e.original.image.complete)&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then((function(t){return i.setLoadedImage(t)})).catch((function(t){return i.loadImageError(t)})),(t.cropper||t.maintainAspectRatio||t.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(t.maintainAspectRatio||t.aspectRatio)?this.resetCropperPosition():t.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())},t.prototype.onChangesUpdateSettings=function(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})},t.prototype.onChangesInputImage=function(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)},t.prototype.isValidImageChangedEvent=function(){var t,e,i;return(null===(i=null===(e=null===(t=this.imageChangedEvent)||void 0===t?void 0:t.target)||void 0===e?void 0:e.files)||void 0===i?void 0:i.length)>0},t.prototype.setCssTransform=function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")},t.prototype.ngOnInit=function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()},t.prototype.reset=function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4},t.prototype.loadImageFile=function(t){var e=this;this.loadImageService.loadImageFile(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))},t.prototype.loadBase64Image=function(t){var e=this;this.loadImageService.loadBase64Image(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))},t.prototype.loadImageFromURL=function(t){var e=this;this.loadImageService.loadImageFromURL(t,this.settings).then((function(t){return e.setLoadedImage(t)})).catch((function(t){return e.loadImageError(t)}))},t.prototype.setLoadedImage=function(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()},t.prototype.loadImageError=function(t){console.error(t),this.loadImageFailed.emit()},t.prototype.imageLoadedInView=function(){var t=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout((function(){return t.checkImageMaxSizeRecursively()})))},t.prototype.checkImageMaxSizeRecursively=function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout((function(){return t.checkImageMaxSizeRecursively()}),50))},t.prototype.sourceImageLoaded=function(){var t,e;return(null===(e=null===(t=this.sourceImage)||void 0===t?void 0:t.nativeElement)||void 0===e?void 0:e.offsetWidth)>0},t.prototype.onResize=function(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())},t.prototype.activatePinchGesture=function(){if(this.Hammer){var t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else e.isDevMode()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")},t.prototype.resizeCropperPosition=function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)},t.prototype.resetCropperPosition=function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0},t.prototype.keyboardAccess=function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)},t.prototype.changeKeyboardStepSize=function(t){var e=+t.key;e>=1&&e<=9&&(this.settings.stepSize=e)},t.prototype.keyboardMoveCropper=function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?a.Resize:a.Move,i=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),r=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(r),this.moveStop()}},t.prototype.startMove=function(t,e,i){var r,o;void 0===i&&(i=null),(null===(r=this.moveStart)||void 0===r?void 0:r.active)&&(null===(o=this.moveStart)||void 0===o?void 0:o.type)===a.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:i,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))},t.prototype.startPinch=function(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:a.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))},t.prototype.moveImg=function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===a.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===a.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())},t.prototype.onPinch=function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===a.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())},t.prototype.setMaxSize=function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}},t.prototype.setCropperScaledMinSize=function(){var t,e;(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)},t.prototype.setCropperScaledMinWidth=function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20},t.prototype.setCropperScaledMinHeight=function(){this.maintainAspectRatio?this.settings.cropperScaledMinHeight=Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?this.settings.cropperScaledMinHeight=Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):this.settings.cropperScaledMinHeight=20},t.prototype.setCropperScaledMaxSize=function(){var t,e;if(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image){var i=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/i:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/i:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height},t.prototype.checkCropperPosition=function(t){void 0===t&&(t=!1),this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)},t.prototype.moveStop=function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())},t.prototype.pinchStop=function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())},t.prototype.doAutoCrop=function(){this.autoCrop&&this.crop()},t.prototype.crop=function(){var t,e;if(null!=(null===(e=null===(t=this.loadedImage)||void 0===t?void 0:t.transformed)||void 0===e?void 0:e.image)){this.startCropImage.emit();var i=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=i&&this.imageCropped.emit(i),i}return null},t}();m.decorators=[{type:e.Component,args:[{selector:"image-cropper",template:'<div [style.background]="imageVisible && backgroundColor"\n     #wrapper\n>\n    <img\n      #sourceImage\n      class="ngx-ic-source-image"\n      *ngIf="safeImgDataUrl"\n      [src]="safeImgDataUrl"\n      [style.visibility]="imageVisible ? \'visible\' : \'hidden\'"\n      [style.transform]="safeTransformStyle"\n      (load)="imageLoadedInView()"\n    />\n    <div\n        class="ngx-ic-overlay"\n        [style.width.px]="maxSize.width"\n        [style.height.px]="maxSize.height"\n        [style.margin-left]="alignImage === \'center\' ? marginLeft : null"\n    ></div>\n    <div class="ngx-ic-cropper"\n         *ngIf="imageVisible"\n         [class.ngx-ic-round]="roundCropper"\n         [style.top.px]="cropper.y1"\n         [style.left.px]="cropper.x1"\n         [style.width.px]="cropper.x2 - cropper.x1"\n         [style.height.px]="cropper.y2 - cropper.y1"\n         [style.margin-left]="alignImage === \'center\' ? marginLeft : null"\n         [style.visibility]="imageVisible ? \'visible\' : \'hidden\'"\n         (keydown)="keyboardAccess($event)"\n         tabindex="0"\n    >\n        <div\n            (mousedown)="startMove($event, moveTypes.Move)"\n            (touchstart)="startMove($event, moveTypes.Move)"\n            class="ngx-ic-move">\n        </div>\n        <ng-container *ngIf="!hideResizeSquares">\n            <span class="ngx-ic-resize ngx-ic-topleft"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'topleft\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'topleft\')">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-top">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-topright"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'topright\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'topright\')">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-right">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-bottomright"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'bottomright\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'bottomright\')">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-bottom">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-bottomleft"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'bottomleft\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'bottomleft\')">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize ngx-ic-left">\n                <span class="ngx-ic-square"></span>\n            </span>\n            <span class="ngx-ic-resize-bar ngx-ic-top"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'top\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'top\')">\n            </span>\n            <span class="ngx-ic-resize-bar ngx-ic-right"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'right\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'right\')">\n            </span>\n            <span class="ngx-ic-resize-bar ngx-ic-bottom"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'bottom\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'bottom\')">\n            </span>\n            <span class="ngx-ic-resize-bar ngx-ic-left"\n                  (mousedown)="startMove($event, moveTypes.Resize, \'left\')"\n                  (touchstart)="startMove($event, moveTypes.Resize, \'left\')">\n            </span>\n        </ng-container>\n    </div>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[':host{display:flex;max-height:100%;max-width:100%;overflow:hidden;padding:5px;text-align:center}:host,:host>div{position:relative;width:100%}:host>div img.ngx-ic-source-image{max-height:100%;max-width:100%;transform-origin:center}:host .ngx-ic-overlay{left:0;outline:var(--cropper-overlay-color,#fff) solid 100vw;pointer-events:none;position:absolute;top:0;touch-action:none}:host .ngx-ic-cropper{background:transparent;color:#53535c;display:flex;outline:100vw solid hsla(0,0%,100%,.3);outline:var(--cropper-outline-color,hsla(0,0%,100%,.3)) solid 100vw;position:absolute;touch-action:none}@media (orientation:portrait){:host .ngx-ic-cropper{outline-width:100vh}}:host .ngx-ic-cropper:after{border:1px dashed;bottom:0;color:inherit;content:"";left:0;opacity:.75;pointer-events:none;position:absolute;right:0;top:0;z-index:1}:host .ngx-ic-cropper .ngx-ic-move{border:1px solid hsla(0,0%,100%,.5);cursor:move;width:100%}:host .ngx-ic-cropper:focus .ngx-ic-move{border-color:#1e90ff;border-width:2px}:host .ngx-ic-cropper .ngx-ic-resize{display:inline-block;line-height:6px;opacity:.85;padding:8px;position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize .ngx-ic-square{background:#53535c;border:1px solid hsla(0,0%,100%,.5);box-sizing:content-box;display:inline-block;height:6px;width:6px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topleft{cursor:nwse-resize;left:-12px;top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-top{cursor:ns-resize;left:calc(50% - 12px);top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-topright{cursor:nesw-resize;right:-12px;top:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-right{cursor:ew-resize;right:-12px;top:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomright{bottom:-12px;cursor:nwse-resize;right:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottom{bottom:-12px;cursor:ns-resize;left:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-bottomleft{bottom:-12px;cursor:nesw-resize;left:-12px}:host .ngx-ic-cropper .ngx-ic-resize.ngx-ic-left{cursor:ew-resize;left:-12px;top:calc(50% - 12px)}:host .ngx-ic-cropper .ngx-ic-resize-bar{position:absolute;z-index:1}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-top{cursor:ns-resize;height:22px;left:11px;top:-11px;width:calc(100% - 22px)}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-right{cursor:ew-resize;height:calc(100% - 22px);right:-11px;top:11px;width:22px}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-bottom{bottom:-11px;cursor:ns-resize;height:22px;left:11px;width:calc(100% - 22px)}:host .ngx-ic-cropper .ngx-ic-resize-bar.ngx-ic-left{cursor:ew-resize;height:calc(100% - 22px);left:-11px;top:11px;width:22px}:host .ngx-ic-cropper.ngx-ic-round{outline-color:transparent}:host .ngx-ic-cropper.ngx-ic-round:after{border-radius:100%;box-shadow:0 0 0 100vw hsla(0,0%,100%,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,hsla(0,0%,100%,.3))}@media (orientation:portrait){:host .ngx-ic-cropper.ngx-ic-round:after{box-shadow:0 0 0 100vh hsla(0,0%,100%,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,hsla(0,0%,100%,.3))}}:host .ngx-ic-cropper.ngx-ic-round .ngx-ic-move{border-radius:100%}:host.disabled .ngx-ic-cropper .ngx-ic-move,:host.disabled .ngx-ic-cropper .ngx-ic-resize,:host.disabled .ngx-ic-cropper .ngx-ic-resize-bar{display:none}']}]}],m.ctorParameters=function(){return[{type:h},{type:g},{type:d},{type:i.DomSanitizer},{type:e.ChangeDetectorRef}]},m.propDecorators={wrapper:[{type:e.ViewChild,args:["wrapper",{static:!0}]}],sourceImage:[{type:e.ViewChild,args:["sourceImage",{static:!1}]}],imageChangedEvent:[{type:e.Input}],imageURL:[{type:e.Input}],imageBase64:[{type:e.Input}],imageFile:[{type:e.Input}],format:[{type:e.Input}],transform:[{type:e.Input}],maintainAspectRatio:[{type:e.Input}],aspectRatio:[{type:e.Input}],resizeToWidth:[{type:e.Input}],resizeToHeight:[{type:e.Input}],cropperMinWidth:[{type:e.Input}],cropperMinHeight:[{type:e.Input}],cropperMaxHeight:[{type:e.Input}],cropperMaxWidth:[{type:e.Input}],cropperStaticWidth:[{type:e.Input}],cropperStaticHeight:[{type:e.Input}],canvasRotation:[{type:e.Input}],initialStepSize:[{type:e.Input}],roundCropper:[{type:e.Input}],onlyScaleDown:[{type:e.Input}],imageQuality:[{type:e.Input}],autoCrop:[{type:e.Input}],backgroundColor:[{type:e.Input}],containWithinAspectRatio:[{type:e.Input}],hideResizeSquares:[{type:e.Input}],cropper:[{type:e.Input}],alignImage:[{type:e.HostBinding,args:["style.text-align"]},{type:e.Input}],disabled:[{type:e.HostBinding,args:["class.disabled"]},{type:e.Input}],imageCropped:[{type:e.Output}],startCropImage:[{type:e.Output}],imageLoaded:[{type:e.Output}],cropperReady:[{type:e.Output}],loadImageFailed:[{type:e.Output}],onResize:[{type:e.HostListener,args:["window:resize"]}],moveImg:[{type:e.HostListener,args:["document:mousemove",["$event"]]},{type:e.HostListener,args:["document:touchmove",["$event"]]}],moveStop:[{type:e.HostListener,args:["document:mouseup"]},{type:e.HostListener,args:["document:touchend"]}]};var u=function(){};u.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule],declarations:[m],exports:[m]}]}],t.ImageCropperComponent=m,t.ImageCropperModule=u,t.base64ToFile=function(t){for(var e=t.split(","),i=e[0].replace("data:","").replace(";base64",""),r=atob(e[1]),o=new ArrayBuffer(r.length),a=new Uint8Array(o),n=0;n<r.length;n+=1)a[n]=r.charCodeAt(n);return new Blob([o],{type:i})},t.resizeCanvas=c,t.ɵa=h,t.ɵb=g,t.ɵc=d,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-image-cropper.umd.min.js.map